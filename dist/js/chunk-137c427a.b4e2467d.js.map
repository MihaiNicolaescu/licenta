{"version":3,"sources":["webpack:///./src/components/Reports.vue?2682","webpack:///src/components/Reports.vue","webpack:///./src/components/Reports.vue?b483","webpack:///./src/components/Reports.vue","webpack:///./src/assets/Logo.png","webpack:///./src/components/Reports.vue?d1b7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","reports","length","_v","_e","_s","staticStyle","_l","report","index","key","id","report_type","reason","formatDate","updated_at","attrs","frontend","link","reportedFName","reportedLName","sender_id","senderFName","senderLName","on","$event","confirm_ban","reported_id","confirm_warn","closeReport","directives","name","rawName","value","expression","domProps","target","composing","banUser","actualUserId","reportID","warnUser","staticRenderFns","component","module","exports"],"mappings":"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","file":"js/chunk-137c427a.b4e2467d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),(_vm.reports !== null && _vm.reports.length === 0)?_c('div',[_c('h2',[_vm._v(\"Momentan nu sunt raportari.\")])]):_vm._e(),(_vm.reports != null && _vm.reports.length)?_c('div',[_c('h2',[_vm._v(\"Momentan sunt \"+_vm._s(_vm.reports.length)+\" sesizari in asteptare.\")]),_c('table',{staticClass:\"table table-bordered\",staticStyle:{\"margin-top\":\"20px\"}},[_vm._m(1),_c('tbody',_vm._l((_vm.reports),function(report,index){return _c('tr',{key:report.id},[_c('td',[_vm._v(_vm._s(index))]),(report.report_type === 1)?_c('td',[_vm._v(\"Profil\")]):_vm._e(),(report.report_type === 2)?_c('td',[_vm._v(\"Postare\")]):_vm._e(),_c('td',{staticStyle:{\"width\":\"260px\"}},[_c('p',{staticClass:\"motiv\",staticStyle:{\"margin-bottom\":\"-10px!important\"}},[_vm._v(_vm._s(report.reason))])]),_c('td',[_vm._v(_vm._s(_vm.formatDate(report.updated_at)))]),(report.report_type === 1)?_c('td',[_c('a',{staticStyle:{\"color\":\"black\",\"font-weight\":\"bold\"},attrs:{\"href\":_vm.frontend+'/report/profile/'+report.link}},[_vm._v(_vm._s(report.reportedFName)+\" \"+_vm._s(report.reportedLName))])]):_vm._e(),(report.report_type === 2)?_c('td',[_c('a',{staticStyle:{\"color\":\"black\",\"font-weight\":\"bold\"},attrs:{\"href\":_vm.frontend+'/report/post/'+report.link}},[_vm._v(_vm._s(report.reportedFName)+\" \"+_vm._s(report.reportedLName))])]):_vm._e(),_c('td',[_c('a',{staticStyle:{\"color\":\"black\",\"text-decoration\":\"none\",\"font-weight\":\"bold\"},attrs:{\"href\":_vm.frontend + '/profile/' + report.sender_id}},[_vm._v(_vm._s(report.senderFName)+\" \"+_vm._s(report.senderLName))])]),_c('td',[_c('button',{staticClass:\"btn btn-secondary btn-modal\",staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"data-toggle\":\"tooltip\",\"data-trigger\":\"hover\",\"data-placement\":\"bottom\",\"title\":\"Baneaza utilizatorul\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirm_ban(report.reported_id, report.id)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"do_disturb_on\")])]),_c('button',{staticClass:\"btn btn-secondary btn-modal\",staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"data-toggle\":\"tooltip\",\"data-trigger\":\"hover\",\"data-placement\":\"bottom\",\"title\":\"Acorda avertisment\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirm_warn(report.reported_id, report.id)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"warning_amber\")])]),_c('button',{staticClass:\"btn btn-secondary btn-modal\",staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"data-toggle\":\"tooltip\",\"data-trigger\":\"hover\",\"data-placement\":\"bottom\",\"title\":\"Inchide reclamatia fara a lua vreo masura\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.closeReport(report.id)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"beenhere\")])])])])}),0)])]):_vm._e(),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"modal-confirm-ban\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{},[_c('label',{attrs:{\"for\":\"validationServer03\"}},[_vm._v(\"Motiv ban\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reason),expression:\"reason\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"validationServer03\",\"required\":\"\"},domProps:{\"value\":(_vm.reason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reason=$event.target.value}}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie banat. \")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.banUser(_vm.actualUserId, _vm.reason, _vm.reportID)}}},[_vm._v(\"Ban utilizator\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"modal-confirm-warn\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{},[_c('label',{attrs:{\"for\":\"validationServer03\"}},[_vm._v(\"Motiv averizare\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reason),expression:\"reason\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"warnInput\",\"required\":\"\"},domProps:{\"value\":(_vm.reason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reason=$event.target.value}}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie avertizat. \")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.warnUser(_vm.actualUserId, _vm.reason, _vm.reportID)}}},[_vm._v(\"Aplica avertizarea\")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('a',{attrs:{\"href\":\"/\"}},[_c('img',{staticStyle:{\"width\":\"50px\"},attrs:{\"src\":require(\"@/assets/Logo.png\"),\"alt\":\"Logo\"}})]),_c('div',{staticClass:\"collapse navbar-collapse\",attrs:{\"id\":\"navbarSupportedContent\"}},[_c('ul',{staticClass:\"navbar-nav mr-auto\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"/admin\"}},[_vm._v(\"Utilizatori\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Raportari\")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"/admin/applications\"}},[_vm._v(\"Aplicatii\")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Tipul\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Motivul\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Data trimiterii\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Link\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Trimis de\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actiune\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <a href=\"/\"><img src=\"@/assets/Logo.png\" alt=\"Logo\" style=\"width: 50px;\"></a>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" href=\"/admin\">Utilizatori</a>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" style=\"font-weight: bold\">Raportari</a>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" href=\"/admin/applications\">Aplicatii</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n    <div v-if=\"reports !== null && reports.length === 0\">\r\n      <h2>Momentan nu sunt raportari.</h2>\r\n    </div>\r\n    <div v-if=\"reports != null && reports.length\">\r\n      <h2>Momentan sunt {{reports.length}} sesizari in asteptare.</h2>\r\n      <table style=\"margin-top: 20px;\" class=\"table table-bordered\">\r\n        <thead class=\"thead-light\">\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">Tipul</th>\r\n            <th scope=\"col\">Motivul</th>\r\n            <th scope=\"col\">Data trimiterii</th>\r\n            <th scope=\"col\">Link</th>\r\n            <th scope=\"col\">Trimis de</th>\r\n            <th scope=\"col\">Actiune</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(report, index) in reports\" :key=\"report.id\">\r\n            <td>{{index}}</td>\r\n            <td v-if=\"report.report_type === 1\">Profil</td>\r\n            <td v-if=\"report.report_type === 2\">Postare</td>\r\n            <td style=\"width: 260px;\"><p class=\"motiv\" style=\"margin-bottom: -10px!important;\">{{report.reason}}</p></td>\r\n            <td>{{formatDate(report.updated_at)}}</td>\r\n            <td v-if=\"report.report_type === 1\"><a style=\"color: black; font-weight: bold;\" :href=\"frontend+'/report/profile/'+report.link\">{{report.reportedFName}} {{ report.reportedLName}}</a></td>\r\n            <td v-if=\"report.report_type === 2\"><a style=\"color: black; font-weight: bold;\" :href=\"frontend+'/report/post/'+report.link\">{{report.reportedFName}} {{ report.reportedLName}}</a></td>\r\n            <td><a  style=\"color: black; text-decoration: none; font-weight: bold;\" :href=\"frontend + '/profile/' + report.sender_id\">{{report.senderFName}} {{report.senderLName}}</a></td>\r\n            <td>\r\n              <button data-toggle=\"tooltip\" data-trigger=\"hover\" data-placement=\"bottom\" title=\"Baneaza utilizatorul\" style=\"margin-bottom: 10px;\" type=\"button\" class=\"btn btn-secondary btn-modal\" v-on:click=\"confirm_ban(report.reported_id, report.id)\"><span class=\"material-icons\">do_disturb_on</span></button>\r\n              <button data-toggle=\"tooltip\" data-trigger=\"hover\" data-placement=\"bottom\" title=\"Acorda avertisment\" style=\"margin-bottom: 10px;\" type=\"button\" class=\"btn btn-secondary btn-modal\" v-on:click=\"confirm_warn(report.reported_id, report.id)\"><span class=\"material-icons\">warning_amber</span></button>\r\n              <button data-toggle=\"tooltip\" data-trigger=\"hover\" data-placement=\"bottom\" title=\"Inchide reclamatia fara a lua vreo masura\" style=\"margin-bottom: 10px;\" type=\"button\" class=\"btn btn-secondary btn-modal\" v-on:click=\"closeReport(report.id)\"><span class=\"material-icons\">beenhere</span></button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!-- Modal confirm ban user -->\r\n    <div class=\"modal fade\" id=\"modal-confirm-ban\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-row\">\r\n              <div class=\"\">\r\n                <label for=\"validationServer03\">Motiv ban</label>\r\n                <input type=\"text\" v-model=\"reason\" class=\"form-control\" id=\"validationServer03\" required>\r\n                <div class=\"invalid-feedback\">\r\n                  Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie banat.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"banUser(actualUserId, reason, reportID)\">Ban utilizator</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Modal confirm warn user -->\r\n    <div class=\"modal fade\" id=\"modal-confirm-warn\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-row\">\r\n              <div class=\"\">\r\n                <label for=\"validationServer03\">Motiv averizare</label>\r\n                <input type=\"text\" v-model=\"reason\" class=\"form-control\" id=\"warnInput\" required>\r\n                <div class=\"invalid-feedback\">\r\n                  Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie avertizat.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"warnUser(actualUserId, reason, reportID)\">Aplica avertizarea</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import axios from \"axios\";\r\n  import {backend} from \"@/constants\";\r\n  import {frontend} from \"@/constants\";\r\n\r\n  // eslint-disable-next-line no-undef\r\n  $(function(){\r\n    // eslint-disable-next-line no-undef\r\n    $('body').tooltip({ selector: '[data-toggle=\"tooltip\"]' });\r\n  });\r\n\r\n  export default{\r\n    data(){\r\n      return{\r\n        reports: null,\r\n        actualUserId: null,\r\n        reason: '',\r\n        reportID: null,\r\n        frontend: frontend,\r\n      }\r\n    },\r\n    mounted() {\r\n      //verificarea userului pentru a se determina daca este un administrator valid\r\n      axios.get(backend + '/api/verifyData', {\r\n        params: {\r\n          token: localStorage.getItem('token'),\r\n        }\r\n      }).then((res) => {\r\n        localStorage.setItem('admin', res.data['isAdmin']);\r\n        if(res.data['isAdmin'] === 0) this.$router.push('/');\r\n        else this.getReports();\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      })\r\n    },\r\n    methods:{\r\n      formatDate: function (date) {\r\n        let newDate = new Date(date);\r\n        let months = ['Ianuarie', 'Februarie', 'Martie', 'Aprilie', 'Mai', 'Iunie', 'Iulie', 'August', 'Septembrie', 'Octombrie', 'Noiembrie', 'Decembrie'];\r\n        return newDate.getDate() + ' ' + months[newDate.getMonth()] + ' ' + newDate.getFullYear();\r\n      },\r\n      warnUser: function(userID, reason, reportID){\r\n        axios.post(backend +'/api/warnUser', {\r\n          token: localStorage.getItem('token'),\r\n          userID: userID,\r\n          reason: reason,\r\n        }).then(()=>{\r\n          // eslint-disable-next-line no-undef\r\n          $('#modal-user').modal('hide');\r\n          // eslint-disable-next-line no-undef\r\n          $('#modal-confirm-warn').modal('hide');\r\n          // eslint-disable-next-line no-undef\r\n          this.markSolved(reportID)\r\n          this.actualUserId = null;\r\n          this.actualUserIndex = null;\r\n          this.reason = '';\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n      },\r\n      closeReport: function(reportID){\r\n        this.markSolved(reportID);\r\n        this.getReports();\r\n      },\r\n      markSolved: function(reportID){\r\n        axios.post(backend + '/api/markSolved',{\r\n          token: localStorage.getItem('token'),\r\n          reportID: reportID,\r\n        }).then(()=>{\r\n          this.getReports();\r\n        }).catch((error)=>{\r\n          console.log(error);\r\n        })\r\n      },\r\n      getReports: function(){\r\n        axios.get(backend +'/api/getReports',{\r\n        }).then((res)=>{\r\n          this.reports = res.data['reports'];\r\n        }).catch((error)=>{\r\n          console.log(error);\r\n        })\r\n      },\r\n      banUser: function(userID, reason, reportID){\r\n        axios.post(backend +'/api/banUser', {\r\n          token: localStorage.getItem('token'),\r\n          userID: userID,\r\n          reason: reason,\r\n        }).then(()=>{\r\n          // eslint-disable-next-line no-undef\r\n          $('#modal-user').modal('hide');\r\n          // eslint-disable-next-line no-undef\r\n          $('#modal-confirm-ban').modal('hide');\r\n          // eslint-disable-next-line no-undef\r\n          $('#modal-ban-user').modal('show');\r\n          this.markSolved(reportID)\r\n          this.actualUserId = null;\r\n          this.actualUserIndex = null;\r\n          this.reason = '';\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n      },\r\n      back: function(){\r\n        this.$router.push('/admin');\r\n      },\r\n      confirm_ban: function(reportedID, reportID){\r\n        this.actualUserId = reportedID;\r\n        this.reportID = reportID;\r\n        // eslint-disable-next-line no-undef\r\n        $('#modal-confirm-ban').modal('show');\r\n      },\r\n      confirm_warn: function(reportedID, reportID){\r\n        this.actualUserId = reportedID;\r\n        this.reportID = reportID;\r\n        // eslint-disable-next-line no-undef\r\n        $('#modal-confirm-warn').modal('show');\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style>\r\n.btn-modal {\r\n  margin-right: 10px;\r\n  background-color: transparent;\r\n  color: black;\r\n  border: none;\r\n  height: 30px;\r\n}\r\n\r\n.btn-modal:active, .btn-modal:focus{\r\n  outline: none!important;\r\n  box-shadow: none;\r\n}\r\n.btn-modal:hover{\r\n  background-color: transparent;\r\n  color: black;\r\n}\r\n.motiv {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: 250px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reports.vue?vue&type=template&id=0662b85a&\"\nimport script from \"./Reports.vue?vue&type=script&lang=js&\"\nexport * from \"./Reports.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reports.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/Logo.eebb1f88.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reports.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}