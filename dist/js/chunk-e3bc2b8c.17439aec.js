(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3bc2b8c"],{"9f73":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[!1===t.invalidUser?s("nav",{staticClass:"navbar navbar-light bg-light"},[s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.home}},[t._v("Home")])]):t._e(),s("div",{staticClass:"container"},[!1===t.invalidUser&&0===t.isBanned?s("div",{staticClass:"d-flex align-items-left flex-column",staticStyle:{height:"100px"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("div",{attrs:{id:"profile"}},[s("img",{staticClass:"profile-image",staticStyle:{"margin-top":"20px"},attrs:{alt:"profile image",src:e("83e3")("./"+t.userPhoto)}}),s("div",{attrs:{id:"profile-info"}},[s("p",{staticClass:"info"},[t._v("First name: "+t._s(t.firstName))]),s("p",{staticClass:"info"},[t._v("Last name: "+t._s(t.lastName))]),s("p",{staticClass:"info"},[t._v("Email: "+t._s(t.email))]),s("p",{staticClass:"info"},[t._v("Birthday: "+t._s(t.birthday))]),1===t.isProducer?s("p",{staticClass:"info"},[t._v("Producator atestat "),s("img",{staticStyle:{width:"45px"},attrs:{src:e("bca0")}})]):t._e()]),t.fallowed||null==t.fallowed||1!==t.isProducer||t.visitorID===t.id?t._e():s("button",{staticClass:"btn btn-success btn-sm",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(a){return t.fallow()}}},[t._v("Urmareste")]),t.fallowed&&null!=t.fallowed&&1===t.isProducer&&t.visitorID!==t.id?s("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(a){return t.cancelFallow()}}},[t._v("Nu mai urmari")]):t._e(),t.visitorID!==t.id?s("button",{staticClass:"btn btn-danger btn-sm",staticStyle:{"margin-top":"5px",width:"100%"},attrs:{type:"button","data-toggle":"modal","data-target":"#reportModal"}},[t._v("Raporteaza utilizatorul")]):t._e(),1===t.isProducer&&this.id!==this.visitorID?s("button",{staticClass:"btn btn-success btn-sm",staticStyle:{"margin-bottom":"10px","margin-top":"5px",width:"100%"},attrs:{type:"button","data-toggle":"modal","data-target":"#modalReview"},on:{click:t.show_MyReview}},[t._v("Scrie o recenzie producatorului")]):t._e(),null!==t.reviews?s("div",{staticClass:"review-form-users"},t._l(t.reviews,(function(a){return s("div",{key:a.id},[s("div",{staticClass:"row",staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"col-sm-1"},[s("div",{staticClass:"user-info"},[s("img",{staticClass:"profile-image",staticStyle:{width:"50px",height:"50px"},attrs:{src:e("83e3")("./"+a.profile_image)}})])]),s("div",{staticClass:"col-9"},[s("p",{staticStyle:{"margin-left":"25px","word-wrap":"break-word","font-size":"12px"}},[s("a",{staticStyle:{color:"black","text-decoration":"none","font-weight":"bold"},attrs:{href:"/profile/"+a.reviewer_id}},[t._v(t._s(a.firstName)+" "+t._s(a.lastName))]),s("br"),t._v(t._s(a.message)+" "),s("br"),t._l(a.rating,(function(a){return s("span",{key:a,staticClass:"material-icons",staticStyle:{"font-size":"15px"},attrs:{id:"starRev"+a}},[t._v("star_rate")])}))],2)])])])})),0):t._e()])]),s("div",{staticClass:"col-7",attrs:{id:"posts"}},[t._l(t.userPosts,(function(a,i){return s("div",{key:a.id},[s("div",{staticClass:"container-post sn p-3"},[s("div",{staticClass:"user-info"},[s("img",{staticClass:"user-info-img",attrs:{src:e("83e3")("./"+t.userPhoto)}}),s("p",[t._v(t._s(t.firstName+" "+t.lastName))])]),s("div",{staticClass:"post-description"},[t._v(" "+t._s(a.description)+" ")]),s("div",{staticClass:"d-flex align-items-center flex-column image-post"},[s("img",{staticClass:"post-image",attrs:{src:e("af08")("./"+a.filename)}})]),s("button",{directives:[{name:"show",rawName:"v-show",value:0===a.vote||null==a.vote||-1===a.vote,expression:"post.vote === 0 || post.vote == null || post.vote === -1"}],staticClass:"btn btn-react",attrs:{type:"button"},on:{click:function(e){return t.voteUp(a.id,i,1)}}},[s("span",{staticClass:"material-icons"},[t._v("thumb_up_alt")])]),s("button",{directives:[{name:"show",rawName:"v-show",value:1===a.vote,expression:"post.vote === 1"}],staticClass:"btn btn-react",attrs:{type:"button"},on:{click:function(e){return t.cancelVoteUp(a.id,i,0)}}},[s("span",{staticClass:"material-icons",staticStyle:{color:"blue"}},[t._v("thumb_up_alt")])]),s("span",[t._v(t._s(a.votes))]),s("button",{staticClass:"btn btn-react",attrs:{type:"button"},on:{click:function(e){return t.gotToComments(a.id)}}},[s("span",{staticClass:"material-icons"},[t._v("insert_comment")])])])])})),0===t.isProducer?s("div",[s("img",{staticClass:"logo",attrs:{src:e("0cfd")}})]):t._e()],2),0===t.isProducer?s("p",{staticClass:"info-paragraph"},[t._v("Acest utlizator nu este inca inregistrat pe aplicatie ca fiind un producator.")]):t._e()])]):t._e(),!0===t.invalidUser||1===t.isBanned?s("div",{staticClass:"container"},[s("p",{staticClass:"not-found"},[t._v("Utilizator invalid.")]),s("p",{staticClass:"go-home"},[t._v("Apasa "),s("router-link",{attrs:{to:{path:"/"}}},[t._v("aici")]),t._v(" pentru a te intoarce la pagina principala.")],1)]):t._e()]),s("div",{staticClass:"modal fade",attrs:{id:"reportModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reportReason,expression:"reportReason"}],staticClass:"input-group-text",staticStyle:{width:"100%","font-weight":"normal"},attrs:{type:"text",placeholder:"Motivul raportari. Ex: Postari cu continut inadecvat.",required:""},domProps:{value:t.reportReason},on:{input:function(a){a.target.composing||(t.reportReason=a.target.value)}}})]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Anuleaza")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.sendReport}},[t._v("Trimite")])])])])]),1===t.isProducer?s("div",{staticClass:"modal fade",attrs:{id:"modalReview",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"review"},[s("fieldset",{staticClass:"rating"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],attrs:{type:"radio",id:"star5",name:"rating",value:"5"},domProps:{checked:t._q(t.stars,"5")},on:{change:function(a){t.stars="5"}}}),s("label",{staticClass:"full",attrs:{for:"star5"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],attrs:{type:"radio",id:"star4",name:"rating",value:"4"},domProps:{checked:t._q(t.stars,"4")},on:{change:function(a){t.stars="4"}}}),s("label",{staticClass:"full",attrs:{for:"star4"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],attrs:{type:"radio",id:"star3",name:"rating",value:"3"},domProps:{checked:t._q(t.stars,"3")},on:{change:function(a){t.stars="3"}}}),s("label",{staticClass:"full",attrs:{for:"star3"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],attrs:{type:"radio",id:"star2",name:"rating",value:"2"},domProps:{checked:t._q(t.stars,"2")},on:{change:function(a){t.stars="2"}}}),s("label",{staticClass:"full",attrs:{for:"star2"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stars,expression:"stars"}],attrs:{type:"radio",id:"star1",name:"rating",value:"1"},domProps:{checked:t._q(t.stars,"1")},on:{change:function(a){t.stars="1"}}}),s("label",{staticClass:"full",attrs:{for:"star1"}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.review_text,expression:"review_text"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.review_text},on:{input:function(a){a.target.composing||(t.review_text=a.target.value)}}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-success btn-sm",on:{click:t.sendReview}},[t._v("Trimite parerea")])])])])]):t._e(),t._m(2),t._m(3),s("alert-box")],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"reportModalTitle"}},[t._v("Raportare utilizator")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("Scrie un review")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"succesReportSend",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"reportSendModalTitle"}},[t._v("Success")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("p",[t._v("Raportul a fost trimis cu succes, in scurt timp un administrator se va ocupa de acest lucru.")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Inchide")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"failedReportSend",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"reportFailedSendModalTitle"}},[t._v("Success")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("p",[t._v("Am intampinat o problema la trimiterea sesizari tale, te rugam sa incerci mai tarziu, iti multumim!")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Inchide")])])])])])}],o=(e("96cf"),e("1da1")),r=e("bc3a"),n=e.n(r),l=e("5fb0"),c=e("ba9d"),d={data:function(){return{id:-1,userPhoto:"default.jpg",firstName:"",lastName:"",email:"",birthday:"",tempFName:"",tempLName:"",tempEmail:"",tempBirthday:"",userPosts:{},fallowed:null,isProducer:null,invalidUser:null,reportReason:null,isBanned:null,visitorID:null,stars:null,review_text:"",reviews:null,myReview:null}},components:{"alert-box":c["a"]},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getUserInformations();case 2:case"end":return a.stop()}}),a)})))()},mounted:function(){this.verifyToken()},watch:{id:function(){this.getUserPosts(),this.getFallowed(),this.getReviews()}},methods:{show_MyReview:function(){this.getMyReview(),$("#modalReview").modal("show")},getMyReview:function(){var t=this;n.a.get(l["a"]+"/api/getMyReview",{params:{token:localStorage.getItem("token"),userID:this.visitorID,userPageID:this.id}}).then((function(a){t.myReview=a.data["review"],t.stars=t.myReview.rating,t.review_text=t.myReview.message})).catch((function(t){console.log(t)}))},getReviews:function(){var t=this;n.a.get(l["a"]+"/api/getReviews",{params:{token:localStorage.getItem("token"),userID:this.id}}).then((function(a){t.reviews=a.data["reviews"]})).catch((function(t){console.log(t)}))},sendReview:function(){var t=this;null!==this.stars&&n.a.post(l["a"]+"/api/sendReview",{token:localStorage.getItem("token"),scor:this.stars,message:this.review_text,for:this.id}).then((function(){t.review_text="",$("#modalReview").modal("hide"),t.getReviews()})).catch((function(t){console.log(t)}))},gotToComments:function(t){this.$router.push("/post/"+t)},sendReport:function(){n.a.post(l["a"]+"/api/sendReport",{token:localStorage.getItem("token"),reason:this.reportReason,link:document.location.href,type:1,reported_id:this.id}).then((function(){$("#reportModal").modal("hide"),$("#succesReportSend").modal("show")})).catch((function(t){$("#reportModal").modal("hide"),$("#failedReportSend").modal("show"),console.log(t)}))},getFallowed:function(){var t=this;n.a.get(l["a"]+"/api/getFallow",{params:{token:localStorage.getItem("token"),id_user:this.id}}).then((function(a){t.fallowed=a.data}))},fallow:function(){n.a.post(l["a"]+"/api/fallowUser",{token:localStorage.getItem("token"),fallowId:this.id}).then(this.fallowed=!0).catch((function(t){"token"===t["message"]?document.getElementById("overlay-alert").style.display="block":console.log(t)}))},cancelFallow:function(){n.a.post(l["a"]+"/api/cancelFallowUser",{token:localStorage.getItem("token"),fallowId:this.id}).then(this.fallowed=!1).catch((function(t){"token"==t["message"]?document.getElementById("overlay-alert").style.display="block":console.log(t)}))},modifyVote:function(t,a,e){n.a.get(l["a"]+"/api/modifyVote",{params:{token:localStorage.getItem("token"),userId:t,postId:a,vote:e}})},cancelVoteUp:function(t,a,e){n.a.get(l["a"]+"/api/vote",{params:{token:localStorage.getItem("token"),postId:t,vote:-1}}).then(this.userPosts[a].votes--,this.userPosts[a].vote=0).catch((function(t){console.log(t)})),this.modifyVote(this.id,t,e)},voteUp:function(t,a,e){n.a.get(l["a"]+"/api/vote",{params:{token:localStorage.getItem("token"),postId:t,vote:1}}).then(this.userPosts[a].votes++,this.userPosts[a].vote=1).catch((function(t){console.log(t)})),this.modifyVote(this.id,t,e)},getUserPosts:function(){var t=this,a=function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.a.get(l["a"]+"/api/fetchUserPosts",{params:{user_id:t.id,token:localStorage.getItem("token")}});case 3:e=a.sent,t.userPosts=e.data["posts"],a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();a()},getUserInformations:function(){var t=this;n.a.get(l["a"]+"/api/fetchProfile",{params:{id:this.$route.params.id}}).then((function(a){"INVALID_USER"===a.data?t.invalidUser=!0:(t.invalidUser=!1,t.firstName=a.data["firstName"],t.lastName=a.data["lastName"],t.email=a.data["email"],t.birthday=a.data["birthday"],t.id=a.data["id"],t.userPhoto=a.data["profile_image"],t.isProducer=a.data["producer"],t.isBanned=a.data["banned"],null==t.userPhoto&&(t.userPhoto="default.jpg"))})).catch((function(t){console.log(t)}))},verifyToken:function(){var t=this;n.a.get(l["a"]+"/api/fetchUserData",{params:{token:localStorage.getItem("token")}}).then((function(a){t.visitorID=a.data["id"]})).catch((function(){document.getElementById("overlay-alert").style.display="block"}))},home:function(){this.$router.push("/")}}},u=d,m=(e("a0b1"),e("2877")),p=Object(m["a"])(u,s,i,!1,null,"b00e0762",null);a["default"]=p.exports},a0b1:function(t,a,e){"use strict";e("b226")},b226:function(t,a,e){},bca0:function(t,a,e){t.exports=e.p+"img/Logo.eebb1f88.png"}}]);
//# sourceMappingURL=chunk-e3bc2b8c.17439aec.js.map