(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2325"],{"7e56":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("nav",{staticClass:"navbar navbar-light bg-light"},[e("button",{staticClass:"btn btn-outline-secondary",on:{click:t.back}},[t._v("Back")])]),0===t.reports.length&&null!=t.reports?e("div",[e("h2",[t._v("Momentan nu sunt raportari.")])]):t._e(),t.reports.length&&null!=t.reports?e("div",[e("h2",[t._v("Momentan sunt "+t._s(t.reports.length)+" sesizari in asteptare.")]),e("table",{staticClass:"table table-bordered",staticStyle:{"margin-top":"20px"}},[t._m(0),e("tbody",t._l(t.reports,(function(a,o){return e("tr",{key:a.id},[e("td",[t._v(t._s(o))]),1===a.report_type?e("td",[t._v("Profil")]):t._e(),2===a.report_type?e("td",[t._v("Postare")]):t._e(),e("td",[t._v(t._s(a.reason))]),e("td",[e("a",{attrs:{href:a.link}},[t._v(t._s(a.link))])]),e("td",[e("a",{attrs:{href:"http://192.168.1.100:8080/profile/"+a.sender_id}},[t._v(t._s(a.sender_id))])]),e("td",[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-toggle":"modal","data-target":"#modalReport"},on:{click:function(e){return t.actualReport(a.reported_id,a.id)}}},[t._v("Raspunde")])])])})),0)])]):t._e(),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-ban",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv ban")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"validationServer03",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie banat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.banUser(t.actualUserId,t.reason,t.reportID)}}},[t._v("Ban utilizator")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-warn",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv averizare")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"warnInput",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie avertizat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.warnUser(t.actualUserId,t.reason,t.reportID)}}},[t._v("Aplica avertizarea")])])])])]),e("div",{staticClass:"modal fade bd-example-modal-sm",attrs:{id:"modalReport",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered modal-sm",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body",staticStyle:{display:"grid"}},[e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-bottom":"10px"},attrs:{type:"button"},on:{click:t.confirm_ban}},[t._v("Interdictie")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-bottom":"10px"},attrs:{type:"button"},on:{click:t.confirm_warn}},[t._v("Atentionare")]),e("button",{staticClass:"btn btn-secondary",staticStyle:{"margin-bottom":"10px"},attrs:{type:"button"},on:{click:function(a){return t.closeReport(t.reportID)}}},[t._v("Nimic gresit")])]),t._m(2)])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Tipul")]),e("th",{attrs:{scope:"col"}},[t._v("Motivul")]),e("th",{attrs:{scope:"col"}},[t._v("Link")]),e("th",{attrs:{scope:"col"}},[t._v("Trimis de")]),e("th",{attrs:{scope:"col"}},[t._v("Actiune")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"modalReportTitle"}}),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],r=e("bc3a"),n=e.n(r),i=e("5fb0"),l={data:function(){return{reports:[],actualUserId:null,reason:"",reportID:null}},mounted:function(){n.a.get(i["a"]+"/api/verifyData",{params:{token:localStorage.getItem("token")}}).then((function(t){localStorage.setItem("admin",t.data["isAdmin"])})).catch((function(t){console.log(t)})),0==localStorage.getItem("admin")&&this.$router.push("/"),this.getReports()},methods:{warnUser:function(t,a,e){var o=this;n.a.post(i["a"]+"/api/warnUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-user").modal("hide"),$("#modal-confirm-warn").modal("hide"),o.markSolved(e),o.actualUserId=null,o.actualUserIndex=null,o.reason=""})).catch((function(t){console.log(t)}))},closeReport:function(t){this.markSolved(t),$("#modalReport").modal("hide"),this.getReports()},markSolved:function(t){var a=this;n.a.post(i["a"]+"/api/markSolved",{token:localStorage.getItem("token"),reportID:t}).then((function(){a.getReports()})).catch((function(t){console.log(t)}))},getReports:function(){var t=this;n.a.get(i["a"]+"/api/getReports",{}).then((function(a){t.reports=a.data["reports"]})).catch((function(t){console.log(t)}))},banUser:function(t,a,e){var o=this;n.a.post(i["a"]+"/api/banUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-user").modal("hide"),$("#modal-confirm-ban").modal("hide"),$("#modal-ban-user").modal("show"),o.markSolved(e),o.actualUserId=null,o.actualUserIndex=null,o.reason=""})).catch((function(t){console.log(t)}))},back:function(){this.$router.push("/admin")},confirm_ban:function(){$("#modalReport").modal("hide"),$("#modal-confirm-ban").modal("show")},confirm_warn:function(){$("#modalReport").modal("hide"),$("#modal-confirm-warn").modal("show")},actualReport:function(t,a){this.actualUserId=t,this.reportID=a}}},d=l,c=e("2877"),u=Object(c["a"])(d,o,s,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0e2325.eefdfc2c.js.map