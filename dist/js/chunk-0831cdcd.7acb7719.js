(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0831cdcd"],{"0f90":function(t,a,e){"use strict";e("9d78")},5765:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(1),e("form",{staticClass:"form-inline my-2 my-lg-0"},[e("form",{staticClass:"search-user d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchedUser,expression:"searchedUser"}],staticClass:"form-control mr-sm-2 input-search",attrs:{type:"search",placeholder:"Cautati un utilizator","aria-label":"Search"},domProps:{value:t.searchedUser},on:{input:function(a){a.target.composing||(t.searchedUser=a.target.value)}}}),t.active&&1===t.active?t._e():e("button",{staticClass:"btn search-btn",staticStyle:{border:"0",background:"transparent",color:"black"},attrs:{type:"button"},on:{click:function(a){return t.searchUser()}}},[e("i",{staticClass:"material-icons icon-search"},[t._v("search")])])]),t.active?e("button",{staticClass:"btn cancel-search",staticStyle:{border:"0",background:"transparent",color:"black"},attrs:{type:"button"},on:{click:function(a){return t.usersButton()}}},[e("span",{staticClass:"material-icons"},[t._v("search_off")])]):t._e()])])]),e("div",{staticClass:"users"},[e("table",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[t._m(2),e("tbody",t._l(t.users,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(s)),1===a.banned?e("span",{staticClass:"badge badge-danger"},[t._v("Banned")]):t._e()]),e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.firstName))]),e("td",[t._v(t._s(a.lastName))]),e("td",[t._v(t._s(a.email))]),!0===a.producer?e("td",[e("span",{staticClass:"material-icons"},[t._v("done_outline")])]):e("td",[e("span",{staticClass:"material-icons"},[t._v("clear")])]),e("td",[e("button",{staticClass:"btn btn-danger btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Sterge utilizator",type:"button"},on:{click:function(e){return t.deleteUser(a.id,s)}}},[e("span",{staticClass:"material-icons"},[t._v("delete_forever")])]),1===a.producer?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Scoate gradul de producator",type:"button"},on:{click:function(e){return t.cancelProducer(a.id)}}},[e("span",{staticClass:"material-icons"},[t._v("do_disturb")])]):t._e(),0===a.producer?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Adauga gradul de producator",type:"button"},on:{click:function(e){return t.giveProducer(a.id)}}},[e("span",{staticClass:"material-icons"},[t._v("control_point")])]):t._e(),0===a.banned?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Baneaza utilizatorul"},on:{click:function(e){return t.confirm_ban(a.id)}}},[e("span",{staticClass:"material-icons"},[t._v("do_disturb_on")])]):t._e(),1===a.banned?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Debaneaza utilizatorul"},on:{click:function(e){return t.unbanUser(a.id)}}},[e("span",{staticClass:"material-icons"},[t._v("do_disturb_off")])]):t._e(),0===a.banned?e("button",{staticClass:"btn btn-warning btn-modal",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Acorda avertisment"},on:{click:function(e){return t.confirm_warn(a.id)}}},[e("span",{staticClass:"material-icons"},[t._v("warning_amber")])]):t._e()])])})),0)]),e("div",{staticClass:"pagination d-flex justify-content-center"},[e("button",{staticClass:"btn btn-outline-secondary pagination-button",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Pagina anterioara",disabled:!t.pagination.prev_page},on:{click:function(a){return t.fetchPaginateUsers(t.pagination.prev_page)}}},[e("span",{staticClass:"material-icons"},[t._v("undo")])]),e("span",[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))]),e("button",{staticClass:"btn btn-outline-secondary pagination-button",attrs:{"data-toggle":"tooltip","data-trigger":"hover","data-placement":"bottom",title:"Pagina urmatoare",disabled:!t.pagination.next_page},on:{click:function(a){return t.fetchPaginateUsers(t.pagination.next_page)}}},[e("span",{staticClass:"material-icons"},[t._v("redo")])])]),t._m(3),t._m(4),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-ban",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv ban")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"validationServer03",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie banat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.banUser(t.actualUserId,t.reason)}}},[t._v("Ban utilizator ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-warn",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv averizare")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"warnInput",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie avertizat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.warnUser(t.actualUserId,t.reason)}}},[t._v("Aplica avertizarea ")])])])])])]),e("alert-box"),e("div",{attrs:{id:"confirm-box"}},[e("div",{staticClass:"d-flex align-items-center flex-column"},[e("p",{attrs:{id:"alert-text"}},[t._v("A aparut o eroare la incarcarea informatiilor, este necesara reconecarea in aplicatie.")]),e("button",{staticClass:"btn btn-danger btn-profile",on:{click:function(a){return t.reconectError()}}},[t._v("OK")])])])],1)},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{attrs:{href:"/"}},[s("img",{staticStyle:{width:"50px"},attrs:{src:e("bca0"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",staticStyle:{"font-weight":"bold"},attrs:{disabled:""}},[t._v("Utilizatori")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"/admin/reports"}},[t._v("Raportari")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"/admin/applications"}},[t._v("Aplicatii")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("ID")]),e("th",{attrs:{scope:"col"}},[t._v("ID_DB")]),e("th",{attrs:{scope:"col"}},[t._v("NUME")]),e("th",{attrs:{scope:"col"}},[t._v("PRENUME")]),e("th",{attrs:{scope:"col"}},[t._v("EMAIL")]),e("th",{attrs:{scope:"col"}},[t._v("PRODUCATOR")]),e("th")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"modal-info-user",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Succes")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[t._v(" Utilizatorul a primit restrictionare cu succes. Acesta nu mai are acces sa aceseze contul. ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"modal-info-delete-user",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Succes")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("p",[t._v("Utilizatorul nu poate fi sters deoarece este activ.")]),e("p",[t._v("Pentru a putea fi sters un cont acesta trebuie sa fie banat sau email-ul sa nu fie confirmat.")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])}],i=e("ba9d"),o=e("bc3a"),r=e.n(o),l=e("5fb0");$((function(){$("body").tooltip({selector:'[data-toggle="tooltip"]'})}));var c={data:function(){return{url:l["a"]+"/api/admin/users",pagination:[],users:null,searchedUser:"",active:0,actualUserId:null,actualUserIndex:null,reason:"",info:""}},mounted:function(){var t=this;$(document).ready((function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-tooltip="tooltip"]').tooltip()})),r.a.get(l["a"]+"/api/verifyData",{params:{token:localStorage.getItem("token")}}).then((function(a){localStorage.setItem("admin",a.data["isAdmin"]),0===a.data["isAdmin"]?t.$router.push("/"):t.getUsers()})).catch((function(){t.$router.push("/")})),$("[data-toggle=tooltip]").tooltip()},components:{"alert-box":i["a"]},methods:{confirm_warn:function(t){this.actualUserId=t,$("#modal-confirm-warn").modal("show")},warnUser:function(t,a){var e=this;r.a.post(l["a"]+"/api/warnUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-user").modal("hide"),$("#modal-confirm-warn").modal("hide"),e.actualUserId=null,e.actualUserIndex=null,e.reason="",e.getUsers()})).catch((function(t){console.log(t)}))},confirm_ban:function(t){this.actualUserId=t,$("#modal-confirm-ban").modal("show")},actualUser:function(t,a){this.actualUserId=t,this.actualUserIndex=a},cancelProducer:function(t){var a=this;r.a.post(l["a"]+"/api/cancelProducer",{token:localStorage.getItem("token"),producer_id:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})).catch((function(t){console.log(t)}))},giveProducer:function(t){var a=this;r.a.post(l["a"]+"/api/giveProducer",{token:localStorage.getItem("token"),producer_id:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})).catch((function(t){console.log(t)}))},banUser:function(t,a){var e=this;r.a.post(l["a"]+"/api/banUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-confirm-ban").modal("hide"),$("#modal-ban-user").modal("show"),e.getUsers(),e.actualUserId=null,e.actualUserIndex=null,e.reason=""})).catch((function(t){console.log(t)}))},unbanUser:function(t){var a=this;r.a.post(l["a"]+"/api/unbanUser",{token:localStorage.getItem("token"),userID:t}).then((function(){a.getUsers(),$("#adminPanel").tooltip("hide")})).catch((function(t){console.log(t)}))},aplications:function(){this.$router.push("/admin/applications")},reports:function(){this.$router.push("/admin/reports")},deleteUser:function(t,a){var e=this;1===this.users[a].banned?r.a.post(l["a"]+"/api/admin/delete",{id:t}).then((function(){e.getUsers()})):$("#modal-info-delete-user").modal("show")},searchUser:function(){""!==this.searchedUser&&(this.getUsers(),this.active=1)},usersButton:function(){this.active=0,this.searchedUser="",this.getUsers()},back:function(){this.$router.push("/")},getUsers:function(){var t=this,a=this;r.a.get(this.url,{params:{searchedUser:this.searchedUser}}).then((function(e){t.users=e.data.data,a.makePagination(e.data),0===t.users.length&&t.usersButton()}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page:t.next_page_url,prev_page:t.prev_page_url};this.pagination=a},fetchPaginateUsers:function(t){this.url=t,this.getUsers()}}},d=c,u=(e("83a8"),e("2877")),m=Object(u["a"])(d,s,n,!1,null,"175a3d69",null);a["default"]=m.exports},"83a8":function(t,a,e){"use strict";e("8cc9")},"8cc9":function(t,a,e){},"9d78":function(t,a,e){},ba9d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"overlay-alert"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex align-items-center flex-column"},[e("p",{attrs:{id:"alert-text"}},[t._v("A aparut o eroare la incarcarea informatiilor, este necesara reconecarea in aplicatie.")]),e("button",{staticClass:"btn btn-danger btn-profile",on:{click:function(a){return t.reconectError()}}},[t._v("OK")])])])])},n=[],i={methods:{reconectError:function(){this.$router.push("login"),localStorage.clear()}}},o=i,r=(e("0f90"),e("2877")),l=Object(r["a"])(o,s,n,!1,null,"24127aa8",null);a["a"]=l.exports},bca0:function(t,a,e){t.exports=e.p+"img/Logo.eebb1f88.png"}}]);
//# sourceMappingURL=chunk-0831cdcd.7acb7719.js.map