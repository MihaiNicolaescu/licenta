(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bcd3067"],{"0f90":function(t,a,e){"use strict";e("9d78")},"15c0":function(t,a,e){},5765:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("Home")]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(0),e("form",{staticClass:"form-inline my-2 my-lg-0"},[e("form",{staticClass:"search-user d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchedUser,expression:"searchedUser"}],staticClass:"form-control mr-sm-2 input-search",attrs:{type:"search",placeholder:"Cautati un utilizator","aria-label":"Search"},domProps:{value:t.searchedUser},on:{input:function(a){a.target.composing||(t.searchedUser=a.target.value)}}}),t.active&&1==t.active?t._e():e("button",{staticClass:"btn search-btn",staticStyle:{border:"0",background:"transparent",color:"black"},attrs:{type:"button"},on:{click:function(a){return t.searchUser()}}},[e("i",{staticClass:"material-icons icon-search"},[t._v("search")])])]),t.active?e("button",{staticClass:"btn cancel-search",staticStyle:{border:"0",background:"transparent",color:"black"},attrs:{type:"button"},on:{click:function(a){return t.usersButton()}}},[e("span",{staticClass:"material-icons"},[t._v("search_off")])]):t._e()])])]),e("div",{staticClass:"users"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.users,(function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(s)),1===a.banned?e("span",{staticClass:"badge badge-danger"},[t._v("Banned")]):t._e()]),e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.firstName))]),e("td",[t._v(t._s(a.lastName))]),e("td",[t._v(t._s(a.email))]),1==a.producer?e("td",[e("span",{staticClass:"material-icons"},[t._v("done_outline")])]):e("td",[e("span",{staticClass:"material-icons"},[t._v("clear")])]),e("td",[e("button",{staticClass:"btn btn-secondary",attrs:{"data-toggle":"modal","data-target":"#modal-user"},on:{click:function(e){return t.actualUser(a.id,s)}}},[t._v("Administrare")])])])})),0)]),e("div",{staticClass:"pagination d-flex justify-content-center"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:!t.pagination.prev_page},on:{click:function(a){return t.fetchPaginateUsers(t.pagination.prev_page)}}},[t._v("Previos")]),e("span",[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))]),e("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:!t.pagination.next_page},on:{click:function(a){return t.fetchPaginateUsers(t.pagination.next_page)}}},[t._v("Next")])]),t._m(2),t._m(3),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-ban",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv ban")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"validationServer03",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie banat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.banUser(t.actualUserId,t.reason)}}},[t._v("Ban utilizator")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"modal-confirm-warn",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{},[e("label",{attrs:{for:"validationServer03"}},[t._v("Motiv averizare")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",id:"warnInput",required:""},domProps:{value:t.reason},on:{input:function(a){a.target.composing||(t.reason=a.target.value)}}}),e("div",{staticClass:"invalid-feedback"},[t._v(" Este necesara specificarea motivului pentru care utilizatorul urmeaza sa fie avertizat. ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.warnUser(t.actualUserId,t.reason)}}},[t._v("Aplica avertizarea")])])])])]),e("div",{staticClass:"modal fade bd-example-modal-sm",attrs:{id:"modal-user",tabindex:"-1",role:"dialog","aria-labelledby":"modal-user","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-sm modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(4),e("div",{staticClass:"modal-body",staticStyle:{display:"grid"}},[e("button",{staticClass:"btn btn-danger btn-modal",attrs:{type:"button"},on:{click:function(a){return t.deleteUser(t.actualUserId)}}},[t._v("Sterge utilizator")]),null!==this.actualUserIndex&&null!==this.actualUserId?e("div",[1===t.users[this.actualUserIndex].producer?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{type:"button"},on:{click:function(a){return t.cancelProducer(t.actualUserId)}}},[t._v("Sterge grad de producator")]):t._e(),0===t.users[this.actualUserIndex].producer?e("button",{staticClass:"btn btn-danger btn-modal",attrs:{type:"button"},on:{click:function(a){return t.giveProducer(t.actualUserId)}}},[t._v("Adauga grad de producator")]):t._e(),0===t.users[this.actualUserIndex].banned?e("button",{staticClass:"btn btn-danger btn-modal",on:{click:function(a){return t.confirm_ban()}}},[t._v("Ban")]):t._e(),1===t.users[this.actualUserIndex].banned?e("button",{staticClass:"btn btn-danger btn-modal",on:{click:function(a){return t.unbanUser(t.actualUserId)}}},[t._v("Unban")]):t._e(),0===t.users[this.actualUserIndex].banned?e("button",{staticClass:"btn btn-warning btn-modal",on:{click:t.confirm_warn}},[t._v("Avertizare")]):t._e()]):t._e()]),t._m(5)])])])]),e("alert-box"),e("div",{attrs:{id:"confirm-box"}},[e("div",{staticClass:"d-flex align-items-center flex-column"},[e("p",{attrs:{id:"alert-text"}},[t._v("A aparut o eroare la incarcarea informatiilor, este necesara reconecarea in aplicatie.")]),e("button",{staticClass:"btn btn-danger btn-profile",on:{click:function(a){return t.reconectError()}}},[t._v("OK")])])])],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"/admin/reports"}},[t._v("Raportari")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link disabled",attrs:{href:"/admin/applications"}},[t._v("Aplicatii")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("ID")]),e("th",{attrs:{scope:"col"}},[t._v("ID_DB")]),e("th",{attrs:{scope:"col"}},[t._v("NUME")]),e("th",{attrs:{scope:"col"}},[t._v("PRENUME")]),e("th",{attrs:{scope:"col"}},[t._v("EMAIL")]),e("th",{attrs:{scope:"col"}},[t._v("PRODUCATOR")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"modal-info-user",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Succes")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[t._v(" Utilizatorul a primit restrictionare cu succes. Acesta nu mai are acces sa aceseze contul. ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"modal-info-delete-user",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Succes")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("p",[t._v("Utilizatorul nu poate fi sters deoarece este activ.")]),e("p",[t._v("Pentru a putea fi sters un cont acesta trebuie sa fie banat sau email-ul sa nu fie confirmat.")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"modal-user-title"}},[t._v("Administrare utilizator")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer d-flex align-items-center flex-column"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Inchide")])])}],r=e("ba9d"),i=e("bc3a"),o=e.n(i),l=e("5fb0"),c={data:function(){return{url:l["a"]+"/api/admin/users",pagination:[],users:null,searchedUser:"",active:0,actualUserId:null,actualUserIndex:null,reason:"",info:""}},mounted:function(){o.a.get(l["a"]+"/api/verifyData",{params:{token:localStorage.getItem("token")}}).then((function(t){localStorage.setItem("admin",t.data["isAdmin"])})).catch((function(t){console.log(t)})),0==localStorage.getItem("admin")&&this.$router.push("/"),this.getUsers()},components:{"alert-box":r["a"]},methods:{confirm_warn:function(){$("#modal-user").modal("hide"),$("#modal-confirm-warn").modal("show")},warnUser:function(t,a){var e=this;o.a.post(l["a"]+"/api/warnUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-user").modal("hide"),$("#modal-confirm-warn").modal("hide"),e.actualUserId=null,e.actualUserIndex=null,e.reason="",e.getUsers()})).catch((function(t){console.log(t)}))},confirm_ban:function(){$("#modal-user").modal("hide"),$("#modal-confirm-ban").modal("show")},actualUser:function(t,a){this.actualUserId=t,this.actualUserIndex=a},cancelProducer:function(t){var a=this;o.a.post(l["a"]+"/api/cancelProducer",{token:localStorage.getItem("token"),producer_id:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})).catch((function(t){console.log(t)}))},giveProducer:function(t){var a=this;o.a.post(l["a"]+"/api/giveProducer",{token:localStorage.getItem("token"),producer_id:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})).catch((function(t){console.log(t)}))},banUser:function(t,a){var e=this;o.a.post(l["a"]+"/api/banUser",{token:localStorage.getItem("token"),userID:t,reason:a}).then((function(){$("#modal-user").modal("hide"),$("#modal-confirm-ban").modal("hide"),$("#modal-ban-user").modal("show"),e.getUsers(),e.actualUserId=null,e.actualUserIndex=null,e.reason=""})).catch((function(t){console.log(t)}))},unbanUser:function(t){var a=this;o.a.post(l["a"]+"/api/unbanUser",{token:localStorage.getItem("token"),userID:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})).catch((function(t){console.log(t)}))},aplications:function(){this.$router.push("/admin/applications")},reports:function(){this.$router.push("/admin/reports")},deleteUser:function(t){var a=this;1===this.users[this.actualUserIndex].banned?o.a.post(l["a"]+"/api/admin/delete",{id:t}).then((function(){$("#modal-user").modal("hide"),a.getUsers()})):($("#modal-user").modal("hide"),$("#modal-info-delete-user").modal("show"))},searchUser:function(){""!=this.searchedUser&&(this.getUsers(),this.active=1)},usersButton:function(){this.active=0,this.searchedUser="",this.getUsers()},back:function(){this.$router.push("/")},getUsers:function(){var t=this,a=this;o.a.get(this.url,{params:{searchedUser:this.searchedUser}}).then((function(e){t.users=e.data.data,a.makePagination(e.data),0==t.users.length&&t.usersButton()}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page:t.next_page_url,prev_page:t.prev_page_url};this.pagination=a},fetchPaginateUsers:function(t){this.url=t,this.getUsers()}}},d=c,u=(e("7181"),e("2877")),m=Object(u["a"])(d,s,n,!1,null,"1138e0ec",null);a["default"]=m.exports},7181:function(t,a,e){"use strict";e("15c0")},"9d78":function(t,a,e){},ba9d:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"overlay-alert"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"d-flex align-items-center flex-column"},[e("p",{attrs:{id:"alert-text"}},[t._v("A aparut o eroare la incarcarea informatiilor, este necesara reconecarea in aplicatie.")]),e("button",{staticClass:"btn btn-danger btn-profile",on:{click:function(a){return t.reconectError()}}},[t._v("OK")])])])])},n=[],r={methods:{reconectError:function(){this.$router.push("login"),localStorage.clear()}}},i=r,o=(e("0f90"),e("2877")),l=Object(o["a"])(i,s,n,!1,null,"24127aa8",null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-1bcd3067.f1a7e588.js.map